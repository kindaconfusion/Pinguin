<windowing:AppWindow xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:Pinguin.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        x:Class="Pinguin.Views.MainView"
        x:DataType="vm:MainViewModel"
        xmlns:services="clr-namespace:Pinguin.Services"
        xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.Avalonia;assembly=LiveChartsCore.SkiaSharpView.Avalonia"
        xmlns:windowing="clr-namespace:FluentAvalonia.UI.Windowing;assembly=FluentAvalonia"
        xmlns:controls="clr-namespace:FluentAvalonia.UI.Controls;assembly=FluentAvalonia"
        services:WindowManager.Register="{Binding}"
        TransparencyLevelHint="Mica"
        Background="#1E000000"
        Icon="/Assets/avalonia-logo.ico"
        Title="Pinguin">

    <Design.DataContext>
        <!-- This only sets the DataContext for the previewer in an IDE,
             to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
        <vm:MainViewModel/>
    </Design.DataContext>

    
        <Grid RowDefinitions="Auto, Auto, 17*, 6*">
            <controls:CommandBar Grid.Row="1" DefaultLabelPosition="Right">
                <controls:CommandBar.PrimaryCommands>
                    <controls:CommandBarButton IconSource="Add" Click="AddButtonOnClick" Label="Add"/>
                    <controls:CommandBarButton IconSource="Settings" Click="OptionsButtonOnClick" Label="Ping Options"/>
                </controls:CommandBar.PrimaryCommands>
            </controls:CommandBar>
        <DataGrid Grid.Row="2" CornerRadius="10" ClipToBounds="True" GridLinesVisibility="All"  
                  CanUserResizeColumns="True" CanUserReorderColumns="True" CanUserSortColumns="True" SelectedIndex="{Binding SelectedIndex}"
                  Background="#2a2a2a" Margin="10" IsReadOnly="True" ItemsSource="{Binding Pings}" AutoGenerateColumns="False">
            <DataGrid.ContextFlyout>
                <MenuFlyout>
                    <MenuItem Header="Remove" Command="{Binding DeletePingCommand}"/>
                </MenuFlyout>
            </DataGrid.ContextFlyout>
            <DataGrid.Columns>
                <DataGridTextColumn Header="Hostname" Binding="{Binding HostName}"/>
                <DataGridTextColumn Header="IP Address" Binding="{Binding IpAddress}"/>
                <DataGridTextColumn Header="Pings Sent" Binding="{Binding PingsSent}"/>
                <DataGridTextColumn Header="Responses Received" Binding="{Binding PingsReceived}"/>
                <DataGridTextColumn Header="Pings Failed" Binding="{Binding PingsLost}"/>
                <DataGridTextColumn Header="Percent Failures" Binding="{Binding PingPercent, StringFormat={}{0:P}}"/>
                <DataGridTextColumn Header="Average RTT" Binding="{Binding AveragePing, StringFormat={}{0:0.00}}"/>
            </DataGrid.Columns>
        </DataGrid>
            <lvc:CartesianChart Grid.Row="3" />
    </Grid>
</windowing:AppWindow>
